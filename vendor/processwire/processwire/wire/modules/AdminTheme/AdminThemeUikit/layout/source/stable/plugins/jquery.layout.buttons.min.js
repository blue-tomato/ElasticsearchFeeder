(function(a){if(!a.layout){return}a.layout.plugins.buttons=true;a.layout.defaults.autoBindCustomButtons=false;a.layout.optionsMap.layout.push("autoBindCustomButtons");var b=a.layout.language;a.layout.buttons={config:{borderPanes:"north,south,west,east"},init:function(e){var f="ui-layout-button-",d=e.options.name||"",c;a.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(g,h){a.each(a.layout.buttons.config.borderPanes.split(","),function(i,j){a("."+f+h+"-"+j).each(function(){c=a(this).data("layoutName")||a(this).attr("layoutName");if(c==undefined||c===d){e.bindButton(this,h,j)}})})})},get:function(h,c,j,g){var d=a(c),i=h.options,f=i.showErrorMessages;if(!d.length){if(f){alert(b.errButton+b.selector+": "+c)}}else{if(a.layout.buttons.config.borderPanes.indexOf(j)===-1){if(f){alert(b.errButton+b.pane+": "+j)}d=a("")}else{var e=i[j].buttonClass+"-"+g;d.addClass(e+" "+e+"-"+j).data("layoutName",i.name)}}return d},bind:function(f,e,d,g){var c=a.layout.buttons;switch(d.toLowerCase()){case"toggle":c.addToggle(f,e,g);break;case"open":c.addOpen(f,e,g);break;case"close":c.addClose(f,e,g);break;case"pin":c.addPin(f,e,g);break;case"toggle-slide":c.addToggle(f,e,g,true);break;case"open-slide":c.addOpen(f,e,g,true);break}return f},addToggle:function(e,d,f,c){a.layout.buttons.get(e,d,f,"toggle").click(function(g){e.toggle(f,!!c);g.stopPropagation()});return e},addOpen:function(e,d,f,c){a.layout.buttons.get(e,d,f,"open").attr("title",b.Open).click(function(g){e.open(f,!!c);g.stopPropagation()});return e},addClose:function(d,c,e){a.layout.buttons.get(d,c,e,"close").attr("title",b.Close).click(function(f){d.close(e);f.stopPropagation()});return d},addPin:function(f,c,g){var d=a.layout.buttons.get(f,c,g,"pin");if(d.length){var e=f.state[g];d.click(function(h){a.layout.buttons.setPinState(f,a(this),g,(e.isSliding||e.isClosed));if(e.isSliding||e.isClosed){f.open(g)}else{f.close(g)}h.stopPropagation()});a.layout.buttons.setPinState(f,d,g,(!e.isClosed&&!e.isSliding));e.pins.push(c)}return f},setPinState:function(f,h,d,e){var k=h.attr("pin");if(k&&e===(k=="down")){return}var c=f.options[d].buttonClass+"-pin",g=c+"-"+d,j=c+"-up "+g+"-up",i=c+"-down "+g+"-down";h.attr("pin",e?"down":"up").attr("title",e?b.Unpin:b.Pin).removeClass(e?j:i).addClass(e?i:j)},syncPinBtns:function(d,e,c){a.each(state[e].pins,function(g,f){a.layout.buttons.setPinState(d,a(f),e,c)})},_load:function(d){a.extend(d,{bindButton:function(f,g,h){return a.layout.buttons.bind(d,f,g,h)},addToggleBtn:function(g,h,f){return a.layout.buttons.addToggle(d,g,h,f)},addOpenBtn:function(g,h,f){return a.layout.buttons.addOpen(d,g,h,f)},addCloseBtn:function(f,g){return a.layout.buttons.addClose(d,f,g)},addPinBtn:function(f,g){return a.layout.buttons.addPin(d,f,g)}});for(var c=0;c<4;c++){var e=a.layout.buttons.config.borderPanes[c];d.state[e].pins=[]}if(d.options.autoBindCustomButtons){a.layout.buttons.init(d)}},_unload:function(c){}};a.layout.onLoad.push(a.layout.buttons._load)})(jQuery);