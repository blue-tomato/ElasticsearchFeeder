(function(k){var i=0,D=false,A="message",v=A.length,a="[iFrameSizer]",c=a.length,t=null,d=k.requestAnimationFrame,C={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},y={},o=null,n={autoResize:true,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:true,enableInPageLinks:false,enablePublicMethods:false,heightCalculationMethod:"offset",interval:32,log:false,maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:false,sizeHeight:true,sizeWidth:false,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){},scrollCallback:function(){return true}};function r(H,F,G){if("addEventListener" in k){H.addEventListener(F,G,false)}else{if("attachEvent" in k){H.attachEvent("on"+F,G)}}}function l(){var G=["moz","webkit","o","ms"],F;for(F=0;F<G.length&&!d;F+=1){d=k[G[F]+"RequestAnimationFrame"]}if(!(d)){j(" RequestAnimationFrame not supported")}}function b(){var F="Host page";if(k.top!==k.self){if(k.parentIFrame){F=k.parentIFrame.getId()}else{F="Nested host page"}}return F}function B(F){return a+"["+b()+"]"+F}function j(F){if(D&&("object"===typeof k.console)){console.log(B(F))}}function x(F){if("object"===typeof k.console){console.warn(B(F))}}function u(X){function F(){function Z(){w(L);h();y[O].resizedCallback(L)}G("Height");G("Width");s(Z,L,"resetPage")}function U(Z){var aa=Z.id;j(" Removing iFrame: "+aa);Z.parentNode.removeChild(Z);y[aa].closedCallback(aa);delete y[aa];j(" --")}function T(){var Z=J.substr(c).split(":");return{iframe:document.getElementById(Z[0]),id:Z[0],height:Z[1],width:Z[2],type:Z[3]}}function G(ad){var Z=Number(y[O]["max"+ad]),ab=Number(y[O]["min"+ad]),ac=ad.toLowerCase(),aa=Number(L[ac]);if(ab>Z){throw new Error("Value for min"+ad+" can not be greater than max"+ad)}j(" Checking "+ac+" is in range "+ab+"-"+Z);if(aa<ab){aa=ab;j(" Set "+ac+" to min value")}if(aa>Z){aa=Z;j(" Set "+ac+" to max value")}L[ac]=""+aa}function W(){function ac(){function ad(){j(" Checking connection is from allowed list of origins: "+ab);var af;for(af=0;af<ab.length;af++){if(ab[af]===aa){return true}}return false}function ae(){j(" Checking connection is from: "+Z);return aa===Z}return ab.constructor===Array?ad():ae()}var aa=X.origin,ab=y[O].checkOrigin,Z=L.iframe.src.split("/").slice(0,3).join("/");if(ab){if((""+aa!=="null")&&!ac()){throw new Error("Unexpected message received from: "+aa+" for "+L.iframe.id+". Message was: "+X.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.")}}return true}function V(){return a===(""+J).substr(0,c)}function R(){var Z=L.type in {"true":1,"false":1,"undefined":1};if(Z){j(" Ignoring init message from meta parent page")}return Z}function N(Z){return J.substr(J.indexOf(":")+v+Z)}function P(Z){j(" MessageCallback passed: {iframe: "+L.iframe.id+", message: "+Z+"}");y[O].messageCallback({iframe:L.iframe,message:JSON.parse(Z)});j(" --")}function I(){if(null===L.iframe){x(" IFrame ("+L.id+") not found");return false}return true}function Y(aa){var Z=aa.getBoundingClientRect();q();return{x:parseInt(Z.left,10)+parseInt(t.x,10),y:parseInt(Z.top,10)+parseInt(t.y,10)}}function S(ad){function Z(){t=aa;H();j(" --")}function ab(){return{x:Number(L.width)+ac.x,y:Number(L.height)+ac.y}}var ac=ad?Y(L.iframe):{x:0,y:0},aa=ab();j(" Reposition requested from iFrame (offset x:"+ac.x+" y:"+ac.y+")");if(k.top!==k.self){if(k.parentIFrame){if(ad){k.parentIFrame.scrollToOffset(aa.x,aa.y)}else{k.parentIFrame.scrollTo(L.width,L.height)}}else{x(" Unable to scroll to requested position, window.parentIFrame not found")}}else{Z()}}function H(){if(false!==y[O].scrollCallback(t)){h()}}function Q(Z){function ab(af){var ae=Y(af);j(" Moving to in page link (#"+ad+") at x: "+ae.x+" y: "+ae.y);t={x:ae.x,y:ae.y};H();j(" --")}var ad=Z.split("#")[1]||"",aa=decodeURIComponent(ad),ac=document.getElementById(aa)||document.getElementsByName(aa)[0];if(k.top!==k.self){if(k.parentIFrame){k.parentIFrame.moveToAnchor(ad)}else{j(" In page link #"+ad+" not found and window.parentIFrame not found")}}else{if(ac){ab(ac)}else{j(" In page link #"+ad+" not found")}}}function M(){switch(L.type){case"close":U(L.iframe);break;case"message":P(N(6));break;case"scrollTo":S(false);break;case"scrollToOffset":S(true);break;case"inPageLink":Q(N(9));break;case"reset":E(L);break;case"init":F();y[O].initCallback(L.iframe);break;default:F()}}function K(aa){var Z=true;if(!y[aa]){Z=false;x(L.type+" No settings for "+aa+". Message was: "+J)}return Z}var J=X.data,L={},O=null;if(V()){L=T();O=L.id;if(!R()&&K(O)){D=y[O].log;j(" Received: "+J);if(I()&&W()){y[O].firstRun=false;M()}}}}function q(){if(null===t){t={x:(k.pageXOffset!==undefined)?k.pageXOffset:document.documentElement.scrollLeft,y:(k.pageYOffset!==undefined)?k.pageYOffset:document.documentElement.scrollTop};j(" Get page position: "+t.x+","+t.y)}}function h(){if(null!==t){k.scrollTo(t.x,t.y);j(" Set page position: "+t.x+","+t.y);t=null}}function E(G){function F(){w(G);p("reset","reset",G.iframe,G.id)}j(" Size reset requested by "+("init"===G.type?"host page":"iFrame"));q();s(F,G,"init")}function w(G){function F(I){G.iframe.style[I]=G[I]+"px";j(" IFrame ("+H+") "+I+" set to "+G[I]+"px")}var H=G.iframe.id;if(y[H].sizeHeight){F("height")}if(y[H].sizeWidth){F("width")}}function s(G,F,H){if(H!==F.type&&d){j(" Requesting animation frame");d(G)}else{G()}}function p(G,H,F,I){if(F&&F.contentWindow){j("["+G+"] Sending msg to iframe ("+H+")");F.contentWindow.postMessage(a+H,"*")}else{x("["+G+"] IFrame not found");if(y[I]){delete y[I]}}}function z(O){function M(){function Q(R){if((Infinity!==y[K][R])&&(0!==y[K][R])){I.style[R]=y[K][R]+"px";j(" Set "+R+" = "+y[K][R]+"px")}}Q("maxHeight");Q("minHeight");Q("maxWidth");Q("minWidth")}function F(Q){if(""===Q){I.id=Q="iFrameResizer"+i++;D=(O||{}).log;j(" Added missing iframe ID: "+Q+" ("+I.src+")")}return Q}function J(){j(" IFrame scrolling "+(y[K].scrolling?"enabled":"disabled")+" for "+K);I.style.overflow=false===y[K].scrolling?"hidden":"auto";I.scrolling=false===y[K].scrolling?"no":"yes"}function G(){if(("number"===typeof(y[K].bodyMargin))||("0"===y[K].bodyMargin)){y[K].bodyMarginV1=y[K].bodyMargin;y[K].bodyMargin=""+y[K].bodyMargin+"px"}}function P(){return K+":"+y[K].bodyMarginV1+":"+y[K].sizeWidth+":"+y[K].log+":"+y[K].interval+":"+y[K].enablePublicMethods+":"+y[K].autoResize+":"+y[K].bodyMargin+":"+y[K].heightCalculationMethod+":"+y[K].bodyBackground+":"+y[K].bodyPadding+":"+y[K].tolerance+":"+y[K].enableInPageLinks+":"+y[K].resizeFrom}function N(Q){r(I,"load",function(){var R=y[K].firstRun;p("iFrame.onload",Q,I);if(!R&&y[K].heightCalculationMethod in C){E({iframe:I,height:0,width:0,type:"init"})}});p("init",Q,I)}function H(Q){if("object"!==typeof Q){throw new TypeError("Options is not an object.")}}function L(Q){Q=Q||{};y[K]={firstRun:true};H(Q);for(var R in n){if(n.hasOwnProperty(R)){y[K][R]=Q.hasOwnProperty(R)?Q[R]:n[R]}}D=y[K].log}var I=this,K=F(I.id);L(O);J();M();G();N(P())}function g(F,G){if(null===o){o=setTimeout(function(){o=null;F()},G)}}function m(){function F(G){return"parent"===y[G].resizeFrom&&y[G].autoResize&&!y[G].firstRun}g(function(){for(var G in y){if(F(G)){p("Window resize","resize",document.getElementById(G),G)}}},66)}function f(){function G(I,H){if(!I.tagName){throw new TypeError("Object is not a valid DOM element")}else{if("IFRAME"!==I.tagName.toUpperCase()){throw new TypeError("Expected <IFRAME> tag, found <"+I.tagName+">.")}else{z.call(I,H)}}}l();r(k,"message",u);r(k,"resize",m);return function F(H,I){switch(typeof(I)){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(I||"iframe"),function(J){G(J,H)});break;case"object":G(I,H);break;default:throw new TypeError("Unexpected data type ("+typeof(I)+").")}}}function e(G){G.fn.iFrameResize=function F(H){return this.filter("iframe").each(function(I,J){z.call(J,H)}).end()}}if(k.jQuery){e(jQuery)}if(typeof define==="function"&&define.amd){define([],f)}else{if(typeof module==="object"&&typeof module.exports==="object"){module.exports=f()}else{k.iFrameResize=k.iFrameResize||f()}}})(window||{});